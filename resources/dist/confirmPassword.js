const e=(r=!1,i=!1)=>({routes:{confirmedPasswordStatus:r,confirmPassword:i},locale:!1,confirmedPassword:!1,targetForm:!1,showingModal:!1,validationError:!1,init(){window.axios.get(this.routes.confirmedPasswordStatus).then(t=>{t.data.confirmed&&(this.confirmedPassword=!0)})},submitForm:function(t){this.confirmedPassword===!0?t.target.submit():(this.targetForm=t.target,this.showModal())},showModal:function(){this.showingModal=!0;const t=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${t}px`,this.$nextTick(()=>{const s=document.querySelectorAll("a, button, input, select, textarea, [contenteditable]");Array.prototype.forEach.call(s,o=>{o.closest(".modal")||o.setAttribute("tabindex","-1")}),this.$refs.password.focus()})},hideModal:function(){this.showingModal=!1;const t=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,parseInt(t||"0")*-1);const s=document.querySelectorAll("a, button, input, select, textarea, [contenteditable]");Array.prototype.forEach.call(s,o=>{o.closest(".modal")||o.removeAttribute("tabindex","-1")})},confirmPassword:function(){window.axios.post(this.routes.confirmPassword,{password:this.$refs.password.value}).then(()=>{this.hideModal(),this.confirmPassword=!0,this.validationError=!1,this.targetForm.submit()}).catch(()=>{this.$refs.password.focus(),this.validationError=!0})},cancel:function(){this.hideModal()}});window.Alpine.data("confirmPassword",e);export default e;
